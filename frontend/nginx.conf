server {
    listen 80;
    root /usr/share/nginx/html;
    index index.html;

    # Unity WebGL — WASM/Brotli/Gzip MIME 타입
    location ~* \.wasm$ {
        add_header Content-Type application/wasm;
    }

    location ~* \.(data|bundle)$ {
        add_header Content-Type application/octet-stream;
    }

    # Unity WebGL 압축 파일 지원
    location ~* \.js\.br$ {
        add_header Content-Encoding br;
        add_header Content-Type application/javascript;
    }

    location ~* \.wasm\.br$ {
        add_header Content-Encoding br;
        add_header Content-Type application/wasm;
    }

    location ~* \.js\.gz$ {
        add_header Content-Encoding gzip;
        add_header Content-Type application/javascript;
    }

    location / {
        try_files $uri $uri/ /index.html;
    }
}
