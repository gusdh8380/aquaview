# ğŸ’§ AquaView

**ìˆ˜ì²˜ë¦¬ ê³µì • ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ** â€” ì‹¤ì‹œê°„ ì„¼ì„œ ë°ì´í„°ë¥¼ 2D ì°¨íŠ¸ì™€ 3D ì‹œê°í™”ë¡œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” í’€ìŠ¤íƒ ëŒ€ì‹œë³´ë“œ

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

AquaViewëŠ” ìˆ˜ì²˜ë¦¬ ì‹œì„¤ì˜ í•µì‹¬ ì„¼ì„œ(pH, íƒë„, ìœ ëŸ‰, ìˆ˜ì˜¨)ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ì›¹ ê¸°ë°˜ ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤. FastAPI ë°±ì—”ë“œê°€ ì„¼ì„œ ë°ì´í„°ë¥¼ ì‹œë®¬ë ˆì´ì…˜í•˜ê³ , React í”„ë¡ íŠ¸ì—”ë“œê°€ ì°¨íŠ¸ì™€ ê²½ë³´ë¥¼ í‘œì‹œí•˜ë©°, Unity WebGLì´ 3D ê³µì • ë·°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     HTTP/REST     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    postMessage    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastAPI    â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚    React     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Unity WebGL  â”‚
â”‚   Backend    â”‚   3ì´ˆ í´ë§        â”‚  Dashboard   â”‚                  â”‚   3D View    â”‚
â”‚              â”‚                   â”‚              â”‚                  â”‚              â”‚
â”‚ â€¢ ì„¼ì„œ ì‹œë®¬ë ˆì´ì…˜  â”‚                   â”‚ â€¢ ì‹¤ì‹œê°„ ì°¨íŠ¸    â”‚                  â”‚ â€¢ íƒ±í¬ ìˆ˜ìœ„     â”‚
â”‚ â€¢ REST API   â”‚                   â”‚ â€¢ ê²½ë³´ íŒ¨ë„     â”‚                  â”‚ â€¢ íŒŒì´í”„ ìƒ‰ìƒ    â”‚
â”‚ â€¢ ìƒíƒœ íŒì •     â”‚                   â”‚ â€¢ ì„¼ì„œ ì¹´ë“œ     â”‚                  â”‚ â€¢ ì„¼ì„œ ë¼ë²¨     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ì„¼ì„œ

| ì„¼ì„œ | ë‹¨ìœ„ | ì •ìƒ ë²”ìœ„ | ê²½ê³  ë²”ìœ„ | ìœ„í—˜ ë²”ìœ„ |
|------|------|----------|----------|----------|
| pH | pH | 6.5 ~ 8.5 | 6.0~6.5 / 8.5~9.0 | <6.0 / >9.0 |
| íƒë„ | NTU | 0 ~ 5 | 5 ~ 10 | >10 |
| ìœ ëŸ‰ | mÂ³/h | 50 ~ 150 | 30~50 / 150~180 | <30 / >180 |
| ìˆ˜ì˜¨ | Â°C | 15 ~ 25 | 10~15 / 25~30 | <10 / >30 |

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Python 3.9+** / **FastAPI** / **Uvicorn**
- ì¸ë©”ëª¨ë¦¬ ì„¼ì„œ ì‹œë®¬ë ˆì´ì…˜ (Gaussian drift ê¸°ë°˜)
- REST API (3ê°œ ì—”ë“œí¬ì¸íŠ¸)

### Frontend
- **React 19** / **Vite** / **Recharts**
- 3ì´ˆ í´ë§ ê¸°ë°˜ ì‹¤ì‹œê°„ ê°±ì‹ 
- ë°˜ì‘í˜• ë‹¤í¬ í…Œë§ˆ ëŒ€ì‹œë³´ë“œ

### 3D Visualization
- **Unity 6** (URP) / **WebGL**
- React â†” Unity postMessage ë¸Œë¦¿ì§€
- ì‹¤ì‹œê°„ ì„¼ì„œ ì—°ë™ (ìˆ˜ìœ„, ìƒ‰ìƒ, í…ìŠ¤íŠ¸)

### Deployment
- **Docker** / **Docker Compose**
- **AWS EC2** (t3.micro í”„ë¦¬í‹°ì–´)

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
aquaview/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py              # FastAPI ì•±, CORS ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ models.py            # Pydantic ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ simulator.py         # ì„¼ì„œ ì‹œë®¬ë ˆì´ì…˜ ì—”ì§„
â”‚   â”‚   â””â”€â”€ routers/
â”‚   â”‚       â”œâ”€â”€ sensors.py       # GET /api/sensors
â”‚   â”‚       â”œâ”€â”€ alerts.py        # GET /api/alerts
â”‚   â”‚       â””â”€â”€ history.py       # GET /api/history
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/client.js        # API í˜¸ì¶œ í•¨ìˆ˜
â”‚   â”‚   â”œâ”€â”€ hooks/usePolling.js  # í´ë§ ì»¤ìŠ¤í…€ í›…
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ SensorCard.jsx   # ì„¼ì„œ ì¹´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ HistoryChart.jsx # ì‹œê³„ì—´ ì°¨íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ AlertPanel.jsx   # ê²½ë³´ íŒ¨ë„
â”‚   â”‚   â”‚   â””â”€â”€ Unity3DView.jsx  # 3D ë·° iframe ë¸Œë¦¿ì§€
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â””â”€â”€ App.css
â”‚   â”œâ”€â”€ public/unity/            # WebGL ë¹Œë“œ ê²°ê³¼ë¬¼
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ nginx.conf
â”œâ”€â”€ unity/AquaView3D/            # Unity 6 í”„ë¡œì íŠ¸
â”‚   â””â”€â”€ Assets/Scripts/
â”‚       â”œâ”€â”€ SensorDataReceiver.cs
â”‚       â”œâ”€â”€ TankController.cs
â”‚       â”œâ”€â”€ PipeController.cs
â”‚       â””â”€â”€ SensorLabel.cs
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ CLAUDE.md
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ë¡œì»¬ ê°œë°œ

```bash
# Backend (port 8000)
cd backend
pip install -r requirements.txt
python3 -m uvicorn app.main:app --reload

# Frontend (port 5173)
cd frontend
npm install
npm run dev
```

ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:5173 ì ‘ì†

### Docker ë°°í¬

```bash
HOST_IP=<ì„œë²„IP> docker-compose up -d --build
```

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/sensors` | 4ê°œ ì„¼ì„œ í˜„ì¬ê°’ + ìƒíƒœ |
| GET | `/api/alerts` | ê²½ê³ /ìœ„í—˜ ìƒíƒœ ê²½ë³´ ëª©ë¡ |
| GET | `/api/history?sensor={type}&limit={n}` | ì„¼ì„œë³„ ì‹œê³„ì—´ ì´ë ¥ |

## ğŸ® 3D ë·° í†µì‹  íë¦„

```
React (usePolling 3ì´ˆ)
  â””â”€ fetchSensors() â†’ JSON ìˆ˜ì‹ 
      â””â”€ postMessage({ type: "SENSOR_UPDATE", sensors })
          â””â”€ Unity iframe ìˆ˜ì‹ 
              â””â”€ SensorDataReceiver.cs â†’ ì´ë²¤íŠ¸ ë¸Œë¡œë“œìºìŠ¤íŠ¸
                  â”œâ”€ TankController: ìˆ˜ìœ„ ë³€í™” + ë¬¼ ìƒ‰ìƒ
                  â”œâ”€ PipeController: íŒŒì´í”„ ìƒ‰ìƒ
                  â””â”€ SensorLabel: í…ìŠ¤íŠ¸ ê°’ í‘œì‹œ
```
